<app-navbar></app-navbar>

<form #userModel="ngForm" (ngSubmit)="userModel.form.valid && onLoginSubmit()">
    <input 
    name="email" 
    email required 
    placeholder="Email" 
    [(ngModel)]="userModal.email"
    #email="ngModel"
    [ngClass]=" { 'invalid-data' : (userModel.submitted && email.invalid) }"
    >
    <div *ngIf="userModel.submitted && email.invalid">
        <div *ngIf="email.errors?.required">
            required email
        </div>
        <div *ngIf="email.errors?.email">
            invalid email
        </div>
    </div>
    <br>
    <input 
    name="password" 
    required minlength="6"
    type="password" 
    [(ngModel)]="userModal.password"
    #password = "ngModel"
    [ngClass]=" { 'invalid-data' : (userModel.submitted && password.invalid) }"
    >
    <div *ngIf="userModel.submitted && password.invalid">
        <div *ngIf="password.errors?.required">
            required password
        </div>
        <div *ngIf="password.errors?.minlength">
            must be more than 6
        </div>
    </div>
    <br>
    <input 
    required 
    type="file" 
    [(ngModel)]="userModal.image"
    (change="imageUpload($event")
    >

    <br>
    <button>login</button>
<div *ngIf="(userModel.submitted&&loginflag); else logged">
invalid data
</div>
<ng-template #logged>
    logged in
</ng-template>
</form>
<app-footer></app-footer>
